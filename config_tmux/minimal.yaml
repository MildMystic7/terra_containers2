session_name: docker_session
environment:
 CONTAINER_NAME: "docker-realsense_ros2"
# shell_command_before:
#   - docker compose -f docker/docker-compose.yaml up --build -d
windows:
  - window_name: Docker Shell
    layout: tiled
    shell_command_before:
      - docker run --rm -it --privileged -v /dev:/dev -v ~/data:/data $CONTAINER_NAME bash
      - . install/local_setup.bash
    panes:
      - shell_command:
          # Start MicroXRCEAgent
          - sudo MicroXRCEAgent serial --dev /dev/serial0 -b 921600
      - shell_command:
          # Health
          - ros2 topic list
      - shell_command:
          # Bag record
          - cd /DATA
          # - ros2 bag record /camera/camera/infra1/image_rect_raw /camera/camera/infra2/image_rect_raw /camera/camera/color/image_raw /camera/camera/gyro/sample /camera/camera/accel/sample
